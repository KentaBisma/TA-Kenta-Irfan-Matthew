timestamp	text
00-08	Application Layer (4/7) Domain Name System CSCM603154 - Jaringan Komputer Fakultas Ilmu Komputer UI All material taken from “Computer Networking: A Top-Down Approach” copyright 1996-2020, J.F Kurose and K.W. Ross, All Rights Reserved
00-38	Application Layer: Overview P2P applications Principles of network applications video streaming and content distribution networks Web and HTTP socket programming with UDP and TCP The Domain Name System DNS
00-47	DNS: Domain Name System people: many identifiers: SSN, name, passport #
01-08	DNS: Domain Name System people: many identifiers: SSN, name, passport # Internet hosts, routers: IP address (32 bit) - used for addressing datagrams “name”, e.g., cs.umass.edu - used by humans
01-27	DNS: Domain Name System people: many identifiers: SSN, name, passport # Internet hosts, routers: IP address (32 bit) - used for addressing datagrams “name”, e.g., cs.umass.edu - used by humans Q: how to map between IP address and name, and vice versa ?
02-00	DNS: Domain Name System people: many identifiers: SSN, name, passport # Internet hosts, routers: IP address (32 bit) - used for addressing datagrams “name”, e.g., cs.umass.edu - used by humans Q: how to map between IP address and name, and vice versa ? Domain Name System (DNS): distributed database implemented in hierarchy of many name servers
02-02	DNS: Domain Name System people: many identifiers: SSN, name, passport # Internet hosts, routers: IP address (32 bit) - used for addressing datagrams “name”, e.g., cs.umass.edu - used by humans Q: how to map between IP address and name, and vice versa ? Domain Name System (DNS): distributed database implemented in hierarchy of many name servers application-layer protocol: hosts, DNS servers communicate to resolve names (address/name translation) note: core Internet function, implemented as application-layer protocol complexity at network’s “edge”
03-00	DNS: services, structure DNS services: hostname-to-IP-address translation
03-17	DNS: services, structure DNS services: hostname-to-IP-address translation host aliasing canonical, alias names
03-25	DNS: services, structure DNS services: hostname-to-IP-address translation host aliasing canonical, alias names mail server aliasing
03-33	DNS: services, structure DNS services: hostname-to-IP-address translation host aliasing canonical, alias names mail server aliasing load distribution replicated Web servers: many IP addresses correspond to one name
04-19	DNS: services, structure DNS services: hostname-to-IP-address translation host aliasing canonical, alias names mail server aliasing load distribution replicated Web servers: many IP addresses correspond to one name Q: Why not centralize DNS? single point of failure traffic volume distant centralized database maintenance
04-45	DNS: services, structure DNS services: hostname-to-IP-address translation host aliasing canonical, alias names mail server aliasing load distribution replicated Web servers: many IP addresses correspond to one name Q: Why not centralize DNS? single point of failure traffic volume distant centralized database maintenance A: doesn‘t scale! Comcast DNS servers alone: 600B DNS queries/day Akamai DNS servers alone: 2.2T DNS queries/day
04-49	Thinking about the DNS
04-53	Thinking about the DNS humongous distributed database: ~ billion records, each simple
05-15	Thinking about the DNS humongous distributed database: ~ billion records, each simple handles many trillions of queries/day: many more reads than writes performance matters: almost every Internet transaction interacts with DNS - msecs count!
05-49	Thinking about the DNS humongous distributed database: ~ billion records, each simple handles many trillions of queries/day: many more reads than writes performance matters: almost every Internet transaction interacts with DNS - msecs count! organizationally, physically decentralized: millions of different organizations responsible for their records
06-02	Thinking about the DNS humongous distributed database: ~ billion records, each simple handles many trillions of queries/day: many more reads than writes performance matters: almost every Internet transaction interacts with DNS - msecs count! organizationally, physically decentralized: millions of different organizations responsible for their records “bulletproof”: reliability, security
06-05	Thinking about the DNS humongous distributed database: ~ billion records, each simple handles many trillions of queries/day: many more reads than writes performance matters: almost every Internet transaction interacts with DNS - msecs count! organizationally, physically decentralized: millions of different organizations responsible for their records “bulletproof”: reliability, security
06-06	DNS: a distributed, hierarchical database Root DNS Servers Root
06-13	DNS: a distributed, hierarchical database Root DNS Servers Root .com DNS servers .org DNS servers .edu DNS servers Top Level Domain
07-03	DNS: a distributed, hierarchical database Root DNS Servers Root .com DNS servers .org DNS servers .edu DNS servers Top Level Domain yahoo.com DNS servers amazon.com DNS servers pbs.org DNS servers nyu.edu DNS servers umass.edu DNS servers Authoritative
07-32	DNS: a distributed, hierarchical database Root DNS Servers Root .com DNS servers .org DNS servers .edu DNS servers Top Level Domain yahoo.com DNS servers amazon.com DNS servers pbs.org DNS servers nyu.edu DNS servers umass.edu DNS servers Authoritative Client wants IP address for www.amazon.com; 1st approximation:
07-46	DNS: a distributed, hierarchical database Root DNS Servers Root .com DNS servers .org DNS servers .edu DNS servers Top Level Domain yahoo.com DNS servers amazon.com DNS servers pbs.org DNS servers nyu.edu DNS servers umass.edu DNS servers Authoritative Client wants IP address for www.amazon.com; 1st approximation: client queries root server to find .com DNS server
07-56	DNS: a distributed, hierarchical database Root DNS Servers Root .com DNS servers .org DNS servers .edu DNS servers Top Level Domain yahoo.com DNS servers amazon.com DNS servers pbs.org DNS servers nyu.edu DNS servers umass.edu DNS servers Authoritative Client wants IP address for www.amazon.com; 1st approximation: client queries root server to find .com DNS server client queries .com DNS server to get amazon.com DNS server
08-12	DNS: a distributed, hierarchical database Root DNS Servers Root .com DNS servers .org DNS servers .edu DNS servers Top Level Domain yahoo.com DNS servers amazon.com DNS servers pbs.org DNS servers nyu.edu DNS servers umass.edu DNS servers Authoritative Client wants IP address for www.amazon.com; 1st approximation: client queries root server to find .com DNS server client queries .com DNS server to get amazon.com DNS server client queries amazon.com DNS server to get IP address for www.amazon.com
08-19	DNS: root name servers official, contact-of-last-resort by name servers that can not resolve name
08-40	DNS: root name servers official, contact-of-last-resort by name servers that can not resolve name
08-42	DNS: root name servers official, contact-of-last-resort by name servers that can not resolve name incredibly important Internet function Internet couldn’t function without it! DNSSEC – provides security (authentication, message integrity)
08-54	DNS: root name servers official, contact-of-last-resort by name servers that can not resolve name incredibly important Internet function Internet couldn’t function without it! DNSSEC – provides security (authentication, message integrity) ICANN (Internet Corporation for Assigned Names and Numbers) manages root DNS domain
09-23	DNS: root name servers official, contact-of-last-resort by name servers that can not resolve name incredibly important Internet function Internet couldn’t function without it! DNSSEC – provides security (authentication, message integrity) ICANN (Internet Corporation for Assigned Names and Numbers) manages root DNS domain 13 logical root name “servers” worldwide each “server” replicated many times (~200 servers in US)
09-37	Top-Level Domain, and authoritative servers Top-Level Domain (TLD) servers: responsible for .com, .org, .net, .edu, .aero, .jobs, .museums, and all top-level country domains, e.g.: .cn, .uk, .fr, .ca, .jp Network Solutions: authoritative registry for .com, .net TLD Educause: .edu TLD
09-47	Top-Level Domain, and authoritative servers Top-Level Domain (TLD) servers: responsible for .com, .org, .net, .edu, .aero, .jobs, .museums, and all top-level country domains, e.g.: .cn, .uk, .fr, .ca, .jp Network Solutions: authoritative registry for .com, .net TLD Educause: .edu TLD authoritative DNS servers: organization’s own DNS server(s), providing authoritative hostname to IP mappings for organization’s named hosts can be maintained by organization or service provider
10-08	Local DNS name servers when host makes DNS query, it is sent to its local DNS server
10-59	Local DNS name servers when host makes DNS query, it is sent to its local DNS server Local DNS server returns reply, answering: from its local cache of recent name-to-address translation pairs (possibly out of date!) forwarding request into DNS hierarchy for resolution
11-02	Local DNS name servers when host makes DNS query, it is sent to its local DNS server Local DNS server returns reply, answering: from its local cache of recent name-to-address translation pairs (possibly out of date!) forwarding request into DNS hierarchy for resolution each ISP has local DNS name server; to find yours: MacOS: % scutil --dns Windows: >ipconfig /all
11-34	Local DNS name servers when host makes DNS query, it is sent to its local DNS server Local DNS server returns reply, answering: from its local cache of recent name-to-address translation pairs (possibly out of date!) forwarding request into DNS hierarchy for resolution each ISP has local DNS name server; to find yours: MacOS: % scutil --dns Windows: >ipconfig /all local DNS server doesn’t strictly belong to hierarchy
12-06	DNS name resolution: iterated query Example: host at engineering.nyu.edu wants IP address for gaia.cs.umass.edu
12-21	DNS name resolution: iterated query Example: host at engineering.nyu.edu wants IP address for gaia.cs.umass.edu Iterated query: contacted server replies with name of server to contact “I don’t know this name, but ask this server”
13-10	DNS name resolution: recursive query Example: host at engineering.nyu.edu wants IP address for gaia.cs.umass.edu
13-13	DNS name resolution: recursive query Example: host at engineering.nyu.edu wants IP address for gaia.cs.umass.edu Recursive query: puts burden of name resolution on contacted name server heavy load at upper levels of hierarchy?
13-59	Caching DNS Information once (any) name server learns mapping, it caches mapping, and immediately returns a cached mapping in response to a query
14-28	Caching DNS Information once (any) name server learns mapping, it caches mapping, and immediately returns a cached mapping in response to a query caching improves response time cache entries timeout (disappear) after some time (TTL) TLD servers typically cached in local name servers
14-44	Caching DNS Information once (any) name server learns mapping, it caches mapping, and immediately returns a cached mapping in response to a query caching improves response time cache entries timeout (disappear) after some time (TTL) TLD servers typically cached in local name servers cached entries may be out-of-date if named host changes IP address, may not be known Internet-wide until all TTLs expire! best-effort name-to-address translation!
14-48	DNS records DNS: distributed database storing resource records (RR) RR format: (name, value, type, ttl)
15-04	DNS records DNS: distributed database storing resource records (RR) RR format: (name, value, type, ttl) type=A name is hostname value is IP address
15-13	DNS records DNS: distributed database storing resource records (RR) RR format: (name, value, type, ttl) type=A name is hostname value is IP address type=NS name is domain (e.g., foo.com) value is hostname of authoritative name server for this domain
15-27	DNS records DNS: distributed database storing resource records (RR) RR format: (name, value, type, ttl) type=A name is hostname value is IP address type=NS name is domain (e.g., foo.com) value is hostname of authoritative name server for this domain type=CNAME name is alias name for some “canonical” (the real) name www.ibm.com is really servereast.backup2.ibm.com value is canonical name
15-30	DNS records DNS: distributed database storing resource records (RR) RR format: (name, value, type, ttl) type=A name is hostname value is IP address type=NS name is domain (e.g., foo.com) value is hostname of authoritative name server for this domain type=CNAME name is alias name for some “canonical” (the real) name www.ibm.com is really servereast.backup2.ibm.com value is canonical name type=MX value is name of SMTP mail server associated with name
15-44	DNS protocol messages DNS query and reply messages, both have same format: message header: 2 bytes 2 bytes identification flags # questions # answer RRs # authority RRs # additional RRs questions (variable # of questions) answers (variable # of RRs) authority (variable # of RRs) additional info (variable # of RRs)
16-07	DNS protocol messages DNS query and reply messages, both have same format: message header: identification: 16 bit # for query, reply to query uses same # 2 bytes 2 bytes identification flags # questions # answer RRs # authority RRs # additional RRs questions (variable # of questions) answers (variable # of RRs) authority (variable # of RRs) additional info (variable # of RRs)
16-09	DNS protocol messages DNS query and reply messages, both have same format: message header: identification: 16 bit # for query, reply to query uses same # flags: query or reply recursion desired recursion available reply is authoritative 2 bytes 2 bytes identification flags # questions # answer RRs # authority RRs # additional RRs questions (variable # of questions) answers (variable # of RRs) authority (variable # of RRs) additional info (variable # of RRs)
16-13	DNS protocol messages DNS query and reply messages, both have same format: 2 bytes 2 bytes identification flags # questions # answer RRs # authority RRs # additional RRs name, type fields for a query questions (variable # of questions) RRs in response to query answers (variable # of RRs) authority (variable # of RRs) additional info (variable # of RRs)
16-16	DNS protocol messages DNS query and reply messages, both have same format: 2 bytes 2 bytes identification flags # questions # answer RRs # authority RRs # additional RRs name, type fields for a query questions (variable # of questions) RRs in response to query answers (variable # of RRs) records for authoritative servers authority (variable # of RRs) additional “ helpful” info that may be used additional info (variable # of RRs)
16-19	Getting your info into the DNS example: new startup “Network Utopia”
16-22	Getting your info into the DNS example: new startup “Network Utopia” register name networkuptopia.com at DNS registrar (e.g., Network Solutions) provide names, IP addresses of authoritative name server (primary and secondary) registrar inserts NS, A RRs into .com TLD server: (networkutopia.com, dns1.networkutopia.com, NS) (dns1.networkutopia.com, 212.212.212.1, A)
17-02	Getting your info into the DNS example: new startup “Network Utopia” register name networkuptopia.com at DNS registrar (e.g., Network Solutions) provide names, IP addresses of authoritative name server (primary and secondary) registrar inserts NS, A RRs into .com TLD server: (networkutopia.com, dns1.networkutopia.com, NS) (dns1.networkutopia.com, 212.212.212.1, A) create authoritative server locally with IP address 212.212.212.1 type A record for www.networkuptopia.com type MX record for networkutopia.com
17-10	DNS security DDoS attacks bombard root servers with traffic not successful to date traffic filtering local DNS servers cache IPs of TLD servers, allowing root server bypass bombard TLD servers potentially more dangerous
17-15	DNS security DDoS attacks bombard root servers with traffic not successful to date traffic filtering local DNS servers cache IPs of TLD servers, allowing root server bypass bombard TLD servers potentially more dangerous Spoofing attacks intercept DNS queries, returning bogus replies DNS cache poisoning RFC 4033: DNSSEC authentication services
17-42	See you in the next video
